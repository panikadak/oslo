(function(){class e extends THREE.Object3D{constructor(e){super(),this.node=e}}e.prototype.isSVGObject=!0;class t{constructor(){let e,t,i,o,n,r,s,c,a,l,p,d,h,f=0,S=null,u=1;const y=this,E=new THREE.Box2,m=new THREE.Box2,x=new THREE.Color,g=new THREE.Color,w=new THREE.Color,b=new THREE.Color,R=new THREE.Color,M=new THREE.Color,v=new THREE.Vector3,T=new THREE.Vector3,H=new THREE.Vector3,z=new THREE.Matrix3,C=new THREE.Matrix4,k=new THREE.Matrix4,L=[],P=new THREE.Projector,j=document.createElementNS("http://www.w3.org/2000/svg","svg");function B(){f=0;while(j.childNodes.length>0)j.removeChild(j.childNodes[0])}function V(e){return null!==S?e.toFixed(S):e}function G(e){w.setRGB(0,0,0),b.setRGB(0,0,0),R.setRGB(0,0,0);for(let t=0,i=e.length;t<i;t++){const i=e[t],o=i.color;i.isAmbientLight?(w.r+=o.r,w.g+=o.g,w.b+=o.b):i.isDirectionalLight?(b.r+=o.r,b.g+=o.g,b.b+=o.b):i.isPointLight&&(R.r+=o.r,R.g+=o.g,R.b+=o.b)}}function A(e,t,i,o){for(let n=0,r=e.length;n<r;n++){const r=e[n],s=r.color;if(r.isDirectionalLight){const e=v.setFromMatrixPosition(r.matrixWorld).normalize();let t=i.dot(e);if(t<=0)continue;t*=r.intensity,o.r+=s.r*t,o.g+=s.g*t,o.b+=s.b*t}else if(r.isPointLight){const e=v.setFromMatrixPosition(r.matrixWorld);let n=i.dot(v.subVectors(e,t).normalize());if(n<=0)continue;if(n*=0==r.distance?1:1-Math.min(t.distanceTo(e)/r.distance,1),0==n)continue;n*=r.intensity,o.r+=s.r*n,o.g+=s.g*n,o.b+=s.b*n}}}function W(e,t,i){let o=t.scale.x*r,n=t.scale.y*s;i.isPointsMaterial&&(o*=i.size,n*=i.size);const c="M"+V(e.x-.5*o)+","+V(e.y-.5*n)+"h"+V(o)+"v"+V(n)+"h"+V(-o)+"z";let a="";(i.isSpriteMaterial||i.isPointsMaterial)&&(a="fill:"+i.color.getStyle()+";fill-opacity:"+i.opacity),D(a,c)}function F(e,t,i,o){const n="M"+V(e.positionScreen.x)+","+V(e.positionScreen.y)+"L"+V(t.positionScreen.x)+","+V(t.positionScreen.y);if(o.isLineBasicMaterial){let e="fill:none;stroke:"+o.color.getStyle()+";stroke-opacity:"+o.opacity+";stroke-width:"+o.linewidth+";stroke-linecap:"+o.linecap;o.isLineDashedMaterial&&(e=e+";stroke-dasharray:"+o.dashSize+","+o.gapSize),D(e,n)}}function N(e,t,o,n,r){y.info.render.vertices+=3,y.info.render.faces++;const s="M"+V(e.positionScreen.x)+","+V(e.positionScreen.y)+"L"+V(t.positionScreen.x)+","+V(t.positionScreen.y)+"L"+V(o.positionScreen.x)+","+V(o.positionScreen.y)+"z";let c="";r.isMeshBasicMaterial?(x.copy(r.color),r.vertexColors&&x.multiply(n.color)):r.isMeshLambertMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial?(g.copy(r.color),r.vertexColors&&g.multiply(n.color),x.copy(w),T.copy(e.positionWorld).add(t.positionWorld).add(o.positionWorld).divideScalar(3),A(i,T,n.normalModel,x),x.multiply(g).add(r.emissive)):r.isMeshNormalMaterial&&(H.copy(n.normalModel).applyMatrix3(z).normalize(),x.setRGB(H.x,H.y,H.z).multiplyScalar(.5).addScalar(.5)),c=r.wireframe?"fill:none;stroke:"+x.getStyle()+";stroke-opacity:"+r.opacity+";stroke-width:"+r.wireframeLinewidth+";stroke-linecap:"+r.wireframeLinecap+";stroke-linejoin:"+r.wireframeLinejoin:"fill:"+x.getStyle()+";fill-opacity:"+r.opacity,D(c,s)}function O(e,t,i){let o=t.x-e.x,n=t.y-e.y;const r=o*o+n*n;if(0===r)return;const s=i/Math.sqrt(r);o*=s,n*=s,t.x+=o,t.y+=n,e.x-=o,e.y-=n}function D(e,t){h===e?d+=t:(I(),h=e,d=t)}function I(){d&&(p=q(f++),p.setAttribute("d",d),p.setAttribute("style",h),j.appendChild(p)),d="",h=""}function q(e){return null==L[e]?(L[e]=document.createElementNS("http://www.w3.org/2000/svg","path"),0==u&&L[e].setAttribute("shape-rendering","crispEdges"),L[e]):L[e]}this.domElement=j,this.autoClear=!0,this.sortObjects=!0,this.sortElements=!0,this.overdraw=.5,this.info={render:{vertices:0,faces:0}},this.setQuality=function(e){switch(e){case"high":u=1;break;case"low":u=0;break}},this.setClearColor=function(e){M.set(e)},this.setPixelRatio=function(){},this.setSize=function(e,t){o=e,n=t,r=o/2,s=n/2,j.setAttribute("viewBox",-r+" "+-s+" "+o+" "+n),j.setAttribute("width",o),j.setAttribute("height",n),E.min.set(-r,-s),E.max.set(r,s)},this.getSize=function(){return{width:o,height:n}},this.setPrecision=function(e){S=e},this.clear=function(){B(),j.style.backgroundColor=M.getStyle()},this.render=function(o,n){if(n instanceof THREE.Camera===!1)return void console.error("THREE.SVGRenderer.render: camera is not an instance of THREE.Camera.");const p=o.background;p&&p.isColor?(B(),j.style.backgroundColor=p.getStyle()):!0===this.autoClear&&this.clear(),y.info.render.vertices=0,y.info.render.faces=0,C.copy(n.matrixWorldInverse),k.multiplyMatrices(n.projectionMatrix,C),e=P.projectScene(o,n,this.sortObjects,this.sortElements),t=e.elements,i=e.lights,z.getNormalMatrix(n.matrixWorldInverse),G(i),d="",h="";for(let e=0,i=t.length;e<i;e++){const i=t[e],o=i.material;if(void 0!==o&&0!==o.opacity)if(m.makeEmpty(),i instanceof THREE.RenderableSprite)c=i,c.x*=r,c.y*=-s,W(c,i,o);else if(i instanceof THREE.RenderableLine)c=i.v1,a=i.v2,c.positionScreen.x*=r,c.positionScreen.y*=-s,a.positionScreen.x*=r,a.positionScreen.y*=-s,m.setFromPoints([c.positionScreen,a.positionScreen]),!0===E.intersectsBox(m)&&F(c,a,i,o);else if(i instanceof THREE.RenderableFace){if(c=i.v1,a=i.v2,l=i.v3,c.positionScreen.z<-1||c.positionScreen.z>1)continue;if(a.positionScreen.z<-1||a.positionScreen.z>1)continue;if(l.positionScreen.z<-1||l.positionScreen.z>1)continue;c.positionScreen.x*=r,c.positionScreen.y*=-s,a.positionScreen.x*=r,a.positionScreen.y*=-s,l.positionScreen.x*=r,l.positionScreen.y*=-s,this.overdraw>0&&(O(c.positionScreen,a.positionScreen,this.overdraw),O(a.positionScreen,l.positionScreen,this.overdraw),O(l.positionScreen,c.positionScreen,this.overdraw)),m.setFromPoints([c.positionScreen,a.positionScreen,l.positionScreen]),!0===E.intersectsBox(m)&&N(c,a,l,i,o)}}I(),o.traverseVisible((function(e){if(e.isSVGObject){if(v.setFromMatrixPosition(e.matrixWorld),v.applyMatrix4(k),v.z<-1||v.z>1)return;const t=v.x*r,i=-v.y*s,o=e.node;o.setAttribute("transform","translate("+t+","+i+")"),j.appendChild(o)}}))}}}THREE.SVGObject=e,THREE.SVGRenderer=t})();