(function(){class e extends THREE.SSAARenderPass{constructor(e,t,a,s){super(e,t,a,s),this.sampleLevel=0,this.accumulate=!1}render(e,a,s,r){if(!this.accumulate)return super.render(e,a,s,r),void(this.accumulateIndex=-1);const i=t[5];this.sampleRenderTarget||(this.sampleRenderTarget=new THREE.WebGLRenderTarget(s.width,s.height,this.params),this.sampleRenderTarget.texture.name="TAARenderPass.sample"),this.holdRenderTarget||(this.holdRenderTarget=new THREE.WebGLRenderTarget(s.width,s.height,this.params),this.holdRenderTarget.texture.name="TAARenderPass.hold"),this.accumulate&&-1===this.accumulateIndex&&(super.render(e,this.holdRenderTarget,s,r),this.accumulateIndex=0);const h=e.autoClear;e.autoClear=!1;const n=1/i.length;if(this.accumulateIndex>=0&&this.accumulateIndex<i.length){this.copyUniforms["opacity"].value=n,this.copyUniforms["tDiffuse"].value=a.texture;const t=Math.pow(2,this.sampleLevel);for(let r=0;r<t;r++){const t=this.accumulateIndex,r=i[t];if(this.camera.setViewOffset&&this.camera.setViewOffset(s.width,s.height,.0625*r[0],.0625*r[1],s.width,s.height),e.setRenderTarget(a),e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(this.sampleRenderTarget),0===this.accumulateIndex&&e.clear(),this.fsQuad.render(e),this.accumulateIndex++,this.accumulateIndex>=i.length)break}this.camera.clearViewOffset&&this.camera.clearViewOffset()}const c=this.accumulateIndex*n;c>0&&(this.copyUniforms["opacity"].value=1,this.copyUniforms["tDiffuse"].value=this.sampleRenderTarget.texture,e.setRenderTarget(a),e.clear(),this.fsQuad.render(e)),c<1&&(this.copyUniforms["opacity"].value=1-c,this.copyUniforms["tDiffuse"].value=this.holdRenderTarget.texture,e.setRenderTarget(a),0===c&&e.clear(),this.fsQuad.render(e)),e.autoClear=h}}const t=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];THREE.TAARenderPass=e})();