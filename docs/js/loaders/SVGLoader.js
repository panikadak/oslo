(function(){class t extends THREE.Loader{constructor(t){super(t),this.defaultDPI=90,this.defaultUnit="px"}load(t,e,n,r){const o=this,i=new THREE.FileLoader(o.manager);i.setPath(o.path),i.setRequestHeader(o.requestHeader),i.setWithCredentials(o.withCredentials),i.load(t,(function(n){try{e(o.parse(n))}catch(i){r?r(i):console.error(i),o.manager.itemError(t)}}),n,r)}parse(t){const e=this;function n(t,e){if(1!==t.nodeType)return;const i=g(t);let s=!0,p=null;switch(t.nodeName){case"svg":break;case"style":o(t);break;case"g":e=h(t,e);break;case"path":e=h(t,e),t.hasAttribute("d")&&(p=r(t));break;case"rect":e=h(t,e),p=c(t);break;case"polygon":e=h(t,e),p=a(t);break;case"polyline":e=h(t,e),p=l(t);break;case"circle":e=h(t,e),p=u(t);break;case"ellipse":e=h(t,e),p=y(t);break;case"line":e=h(t,e),p=f(t);break;case"defs":s=!1;break;case"use":e=h(t,e);const i=t.href.baseVal.substring(1),x=t.viewportElement.getElementById(i);x?n(x,e):console.warn("SVGLoader: 'use node' references non-existent node id: "+i);break;default:}if(p&&(void 0!==e.fill&&"none"!==e.fill&&p.color.setStyle(e.fill),m(p,N),R.push(p),p.userData={node:t,style:e}),s){const r=t.childNodes;for(let t=0;t<r.length;t++)n(r[t],e)}i&&(H.pop(),H.length>0?N.copy(H[H.length-1]):N.identity())}function r(t){const e=new THREE.ShapePath,n=new THREE.Vector2,r=new THREE.Vector2,o=new THREE.Vector2;let s=!0,c=!1;const a=t.getAttribute("d"),l=a.match(/[a-df-z][^a-df-z]*/gi);for(let u=0,y=l.length;u<y;u++){const t=l[u],a=t.charAt(0),y=t.substr(1).trim();let f;switch(!0===s&&(c=!0,s=!1),a){case"M":f=x(y);for(let t=0,i=f.length;t<i;t+=2)n.x=f[t+0],n.y=f[t+1],r.x=n.x,r.y=n.y,0===t?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y),0===t&&o.copy(n);break;case"H":f=x(y);for(let t=0,i=f.length;t<i;t++)n.x=f[t],r.x=n.x,r.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&o.copy(n);break;case"V":f=x(y);for(let t=0,i=f.length;t<i;t++)n.y=f[t],r.x=n.x,r.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&o.copy(n);break;case"L":f=x(y);for(let t=0,i=f.length;t<i;t+=2)n.x=f[t+0],n.y=f[t+1],r.x=n.x,r.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&o.copy(n);break;case"C":f=x(y);for(let t=0,i=f.length;t<i;t+=6)e.bezierCurveTo(f[t+0],f[t+1],f[t+2],f[t+3],f[t+4],f[t+5]),r.x=f[t+2],r.y=f[t+3],n.x=f[t+4],n.y=f[t+5],0===t&&!0===c&&o.copy(n);break;case"S":f=x(y);for(let t=0,i=f.length;t<i;t+=4)e.bezierCurveTo(p(n.x,r.x),p(n.y,r.y),f[t+0],f[t+1],f[t+2],f[t+3]),r.x=f[t+0],r.y=f[t+1],n.x=f[t+2],n.y=f[t+3],0===t&&!0===c&&o.copy(n);break;case"Q":f=x(y);for(let t=0,i=f.length;t<i;t+=4)e.quadraticCurveTo(f[t+0],f[t+1],f[t+2],f[t+3]),r.x=f[t+0],r.y=f[t+1],n.x=f[t+2],n.y=f[t+3],0===t&&!0===c&&o.copy(n);break;case"T":f=x(y);for(let t=0,i=f.length;t<i;t+=2){const i=p(n.x,r.x),s=p(n.y,r.y);e.quadraticCurveTo(i,s,f[t+0],f[t+1]),r.x=i,r.y=s,n.x=f[t+0],n.y=f[t+1],0===t&&!0===c&&o.copy(n)}break;case"A":f=x(y,[3,4],7);for(let t=0,s=f.length;t<s;t+=7){if(f[t+5]==n.x&&f[t+6]==n.y)continue;const s=n.clone();n.x=f[t+5],n.y=f[t+6],r.x=n.x,r.y=n.y,i(e,f[t],f[t+1],f[t+2],f[t+3],f[t+4],s,n),0===t&&!0===c&&o.copy(n)}break;case"m":f=x(y);for(let t=0,i=f.length;t<i;t+=2)n.x+=f[t+0],n.y+=f[t+1],r.x=n.x,r.y=n.y,0===t?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y),0===t&&o.copy(n);break;case"h":f=x(y);for(let t=0,i=f.length;t<i;t++)n.x+=f[t],r.x=n.x,r.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&o.copy(n);break;case"v":f=x(y);for(let t=0,i=f.length;t<i;t++)n.y+=f[t],r.x=n.x,r.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&o.copy(n);break;case"l":f=x(y);for(let t=0,i=f.length;t<i;t+=2)n.x+=f[t+0],n.y+=f[t+1],r.x=n.x,r.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&o.copy(n);break;case"c":f=x(y);for(let t=0,i=f.length;t<i;t+=6)e.bezierCurveTo(n.x+f[t+0],n.y+f[t+1],n.x+f[t+2],n.y+f[t+3],n.x+f[t+4],n.y+f[t+5]),r.x=n.x+f[t+2],r.y=n.y+f[t+3],n.x+=f[t+4],n.y+=f[t+5],0===t&&!0===c&&o.copy(n);break;case"s":f=x(y);for(let t=0,i=f.length;t<i;t+=4)e.bezierCurveTo(p(n.x,r.x),p(n.y,r.y),n.x+f[t+0],n.y+f[t+1],n.x+f[t+2],n.y+f[t+3]),r.x=n.x+f[t+0],r.y=n.y+f[t+1],n.x+=f[t+2],n.y+=f[t+3],0===t&&!0===c&&o.copy(n);break;case"q":f=x(y);for(let t=0,i=f.length;t<i;t+=4)e.quadraticCurveTo(n.x+f[t+0],n.y+f[t+1],n.x+f[t+2],n.y+f[t+3]),r.x=n.x+f[t+0],r.y=n.y+f[t+1],n.x+=f[t+2],n.y+=f[t+3],0===t&&!0===c&&o.copy(n);break;case"t":f=x(y);for(let t=0,i=f.length;t<i;t+=2){const i=p(n.x,r.x),s=p(n.y,r.y);e.quadraticCurveTo(i,s,n.x+f[t+0],n.y+f[t+1]),r.x=i,r.y=s,n.x=n.x+f[t+0],n.y=n.y+f[t+1],0===t&&!0===c&&o.copy(n)}break;case"a":f=x(y,[3,4],7);for(let t=0,s=f.length;t<s;t+=7){if(0==f[t+5]&&0==f[t+6])continue;const s=n.clone();n.x+=f[t+5],n.y+=f[t+6],r.x=n.x,r.y=n.y,i(e,f[t],f[t+1],f[t+2],f[t+3],f[t+4],s,n),0===t&&!0===c&&o.copy(n)}break;case"Z":case"z":e.currentPath.autoClose=!0,e.currentPath.curves.length>0&&(n.copy(o),e.currentPath.currentPoint.copy(n),s=!0);break;default:console.warn(t)}c=!1}return e}function o(t){if(t.sheet&&t.sheet.cssRules&&t.sheet.cssRules.length)for(let e=0;e<t.sheet.cssRules.length;e++){const n=t.sheet.cssRules[e];if(1!==n.type)continue;const r=n.selectorText.split(/,/gm).filter(Boolean).map((t=>t.trim()));for(let t=0;t<r.length;t++)v[r[t]]=Object.assign(v[r[t]]||{},n.style)}}function i(t,e,n,r,o,i,c,a){if(0==e||0==n)return void t.lineTo(a.x,a.y);r=r*Math.PI/180,e=Math.abs(e),n=Math.abs(n);const l=(c.x-a.x)/2,u=(c.y-a.y)/2,y=Math.cos(r)*l+Math.sin(r)*u,f=-Math.sin(r)*l+Math.cos(r)*u;let h=e*e,p=n*n;const x=y*y,d=f*f,b=x/h+d/p;if(b>1){const t=Math.sqrt(b);e*=t,n*=t,h=e*e,p=n*n}const E=h*d+p*x,g=(h*p-E)/E;let T=Math.sqrt(Math.max(0,g));o===i&&(T=-T);const m=T*e*f/n,k=-T*n*y/e,A=Math.cos(r)*m-Math.sin(r)*k+(c.x+a.x)/2,w=Math.sin(r)*m+Math.cos(r)*k+(c.y+a.y)/2,R=s(1,0,(y-m)/e,(f-k)/n),v=s((y-m)/e,(f-k)/n,(-y-m)/e,(-f-k)/n)%(2*Math.PI);t.currentPath.absellipse(A,w,e,n,R,R+v,0===i,r)}function s(t,e,n,r){const o=t*n+e*r,i=Math.sqrt(t*t+e*e)*Math.sqrt(n*n+r*r);let s=Math.acos(Math.max(-1,Math.min(1,o/i)));return t*r-e*n<0&&(s=-s),s}function c(t){const e=E(t.getAttribute("x")||0),n=E(t.getAttribute("y")||0),r=E(t.getAttribute("rx")||t.getAttribute("ry")||0),o=E(t.getAttribute("ry")||t.getAttribute("rx")||0),i=E(t.getAttribute("width")),s=E(t.getAttribute("height")),c=.448084975506,a=new THREE.ShapePath;return a.moveTo(e+r,n),a.lineTo(e+i-r,n),0===r&&0===o||a.bezierCurveTo(e+i-r*c,n,e+i,n+o*c,e+i,n+o),a.lineTo(e+i,n+s-o),0===r&&0===o||a.bezierCurveTo(e+i,n+s-o*c,e+i-r*c,n+s,e+i-r,n+s),a.lineTo(e+r,n+s),0===r&&0===o||a.bezierCurveTo(e+r*c,n+s,e,n+s-o*c,e,n+s-o),a.lineTo(e,n+o),0===r&&0===o||a.bezierCurveTo(e,n+o*c,e+r*c,n,e+r,n),a}function a(t){function e(t,e,n){const i=E(e),s=E(n);0===o?r.moveTo(i,s):r.lineTo(i,s),o++}const n=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,r=new THREE.ShapePath;let o=0;return t.getAttribute("points").replace(n,e),r.currentPath.autoClose=!0,r}function l(t){function e(t,e,n){const i=E(e),s=E(n);0===o?r.moveTo(i,s):r.lineTo(i,s),o++}const n=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,r=new THREE.ShapePath;let o=0;return t.getAttribute("points").replace(n,e),r.currentPath.autoClose=!1,r}function u(t){const e=E(t.getAttribute("cx")||0),n=E(t.getAttribute("cy")||0),r=E(t.getAttribute("r")||0),o=new THREE.Path;o.absarc(e,n,r,0,2*Math.PI);const i=new THREE.ShapePath;return i.subPaths.push(o),i}function y(t){const e=E(t.getAttribute("cx")||0),n=E(t.getAttribute("cy")||0),r=E(t.getAttribute("rx")||0),o=E(t.getAttribute("ry")||0),i=new THREE.Path;i.absellipse(e,n,r,o,0,2*Math.PI);const s=new THREE.ShapePath;return s.subPaths.push(i),s}function f(t){const e=E(t.getAttribute("x1")||0),n=E(t.getAttribute("y1")||0),r=E(t.getAttribute("x2")||0),o=E(t.getAttribute("y2")||0),i=new THREE.ShapePath;return i.moveTo(e,n),i.lineTo(r,o),i.currentPath.autoClose=!1,i}function h(t,e){e=Object.assign({},e);let n={};if(t.hasAttribute("class")){const e=t.getAttribute("class").split(/\s/).filter(Boolean).map((t=>t.trim()));for(let t=0;t<e.length;t++)n=Object.assign(n,v["."+e[t]])}function r(r,o,i){void 0===i&&(i=function(t){return t.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),t}),t.hasAttribute(r)&&(e[o]=i(t.getAttribute(r))),n[r]&&(e[o]=i(n[r])),t.style&&""!==t.style[r]&&(e[o]=i(t.style[r]))}function o(t){return Math.max(0,Math.min(1,E(t)))}function i(t){return Math.max(0,E(t))}return t.hasAttribute("id")&&(n=Object.assign(n,v["#"+t.getAttribute("id")])),r("fill","fill"),r("fill-opacity","fillOpacity",o),r("fill-rule","fillRule"),r("opacity","opacity",o),r("stroke","stroke"),r("stroke-opacity","strokeOpacity",o),r("stroke-width","strokeWidth",i),r("stroke-linejoin","strokeLineJoin"),r("stroke-linecap","strokeLineCap"),r("stroke-miterlimit","strokeMiterLimit",i),r("visibility","visibility"),e}function p(t,e){return t-(e-t)}function x(t,e,n){if("string"!==typeof t)throw new TypeError("Invalid input: "+typeof t);const r={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},o=0,i=1,s=2,c=3;let a=o,l=!0,u="",y="";const f=[];function h(t,e,n){const r=new SyntaxError('Unexpected character "'+t+'" at index '+e+".");throw r.partial=n,r}function p(){""!==u&&(""===y?f.push(Number(u)):f.push(Number(u)*Math.pow(10,Number(y)))),u="",y=""}let x;const d=t.length;for(let b=0;b<d;b++)if(x=t[b],Array.isArray(e)&&e.includes(f.length%n)&&r.FLAGS.test(x))a=i,u=x,p();else{if(a===o){if(r.WHITESPACE.test(x))continue;if(r.DIGIT.test(x)||r.SIGN.test(x)){a=i,u=x;continue}if(r.POINT.test(x)){a=s,u=x;continue}r.COMMA.test(x)&&(l&&h(x,b,f),l=!0)}if(a===i){if(r.DIGIT.test(x)){u+=x;continue}if(r.POINT.test(x)){u+=x,a=s;continue}if(r.EXP.test(x)){a=c;continue}r.SIGN.test(x)&&1===u.length&&r.SIGN.test(u[0])&&h(x,b,f)}if(a===s){if(r.DIGIT.test(x)){u+=x;continue}if(r.EXP.test(x)){a=c;continue}r.POINT.test(x)&&"."===u[u.length-1]&&h(x,b,f)}if(a===c){if(r.DIGIT.test(x)){y+=x;continue}if(r.SIGN.test(x)){if(""===y){y+=x;continue}1===y.length&&r.SIGN.test(y)&&h(x,b,f)}}r.WHITESPACE.test(x)?(p(),a=o,l=!1):r.COMMA.test(x)?(p(),a=o,l=!0):r.SIGN.test(x)?(p(),a=i,u=x):r.POINT.test(x)?(p(),a=s,u=x):h(x,b,f)}return p(),f}const d=["mm","cm","in","pt","pc","px"],b={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function E(t){let n,r="px";if("string"===typeof t||t instanceof String)for(let e=0,o=d.length;e<o;e++){const n=d[e];if(t.endsWith(n)){r=n,t=t.substring(0,t.length-n.length);break}}return"px"===r&&"px"!==e.defaultUnit?n=b["in"][e.defaultUnit]/e.defaultDPI:(n=b[r][e.defaultUnit],n<0&&(n=b[r]["in"]*e.defaultDPI)),n*parseFloat(t)}function g(t){if(!(t.hasAttribute("transform")||"use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))))return null;const e=T(t);return H.length>0&&e.premultiply(H[H.length-1]),N.copy(e),H.push(e),e}function T(t){const e=new THREE.Matrix3,n=M;if("use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))){const n=E(t.getAttribute("x")),r=E(t.getAttribute("y"));e.translate(n,r)}if(t.hasAttribute("transform")){const r=t.getAttribute("transform").split(")");for(let t=r.length-1;t>=0;t--){const o=r[t].trim();if(""===o)continue;const i=o.indexOf("("),s=o.length;if(i>0&&i<s){const t=o.substr(0,i),e=x(o.substr(i+1,s-i-1));switch(n.identity(),t){case"translate":if(e.length>=1){const t=e[0];let r=t;e.length>=2&&(r=e[1]),n.translate(t,r)}break;case"rotate":if(e.length>=1){let t=0,r=0,o=0;t=-e[0]*Math.PI/180,e.length>=3&&(r=e[1],o=e[2]),I.identity().translate(-r,-o),P.identity().rotate(t),S.multiplyMatrices(P,I),I.identity().translate(r,o),n.multiplyMatrices(I,S)}break;case"scale":if(e.length>=1){const t=e[0];let r=t;e.length>=2&&(r=e[1]),n.scale(t,r)}break;case"skewX":1===e.length&&n.set(1,Math.tan(e[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===e.length&&n.set(1,0,0,Math.tan(e[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===e.length&&n.set(e[0],e[2],e[4],e[1],e[3],e[5],0,0,1);break}}e.premultiply(n)}}return e}function m(t,e){function n(t){C.set(t.x,t.y,1).applyMatrix3(e),t.set(C.x,C.y)}const r=k(e),o=t.subPaths;for(let i=0,s=o.length;i<s;i++){const t=o[i],s=t.curves;for(let o=0;o<s.length;o++){const t=s[o];t.isLineCurve?(n(t.v1),n(t.v2)):t.isCubicBezierCurve?(n(t.v0),n(t.v1),n(t.v2),n(t.v3)):t.isQuadraticBezierCurve?(n(t.v0),n(t.v1),n(t.v2)):t.isEllipseCurve&&(r&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),V.set(t.aX,t.aY),n(V),t.aX=V.x,t.aY=V.y,t.xRadius*=A(e),t.yRadius*=w(e))}}}function k(t){return 0!==t.elements[1]||0!==t.elements[3]}function A(t){const e=t.elements;return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function w(t){const e=t.elements;return Math.sqrt(e[3]*e[3]+e[4]*e[4])}const R=[],v={},H=[],M=new THREE.Matrix3,I=new THREE.Matrix3,P=new THREE.Matrix3,S=new THREE.Matrix3,V=new THREE.Vector2,C=new THREE.Vector3,N=new THREE.Matrix3,O=(new DOMParser).parseFromString(t,"image/svg+xml");n(O.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4});const L={paths:R,xml:O.documentElement};return L}static createShapes(t){const e=999999999,n={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},r={loc:n.ORIGIN,t:0};function o(t,e,o,s){const c=t.x,a=e.x,l=o.x,u=s.x,y=t.y,f=e.y,h=o.y,p=s.y,x=(u-l)*(y-h)-(p-h)*(c-l),d=(a-c)*(y-h)-(f-y)*(c-l),b=(p-h)*(a-c)-(u-l)*(f-y),E=x/b,g=d/b;if(0===b&&0!==x||E<=0||E>=1||g<0||g>1)return null;if(0===x&&0===b){for(let l=0;l<2;l++){if(i(0===l?o:s,t,e),r.loc==n.ORIGIN){const t=0===l?o:s;return{x:t.x,y:t.y,t:r.t}}if(r.loc==n.BETWEEN){const t=+(c+r.t*(a-c)).toPrecision(10),e=+(y+r.t*(f-y)).toPrecision(10);return{x:t,y:e,t:r.t}}}return null}{for(let c=0;c<2;c++)if(i(0===c?o:s,t,e),r.loc==n.ORIGIN){const t=0===c?o:s;return{x:t.x,y:t.y,t:r.t}}const l=+(c+E*(a-c)).toPrecision(10),u=+(y+E*(f-y)).toPrecision(10);return{x:l,y:u,t:E}}}function i(t,e,o){const i=o.x-e.x,s=o.y-e.y,c=t.x-e.x,a=t.y-e.y,l=i*a-c*s;if(t.x===e.x&&t.y===e.y)return r.loc=n.ORIGIN,void(r.t=0);if(t.x===o.x&&t.y===o.y)return r.loc=n.DESTINATION,void(r.t=1);if(l<-Number.EPSILON)return void(r.loc=n.LEFT);if(l>Number.EPSILON)return void(r.loc=n.RIGHT);if(i*c<0||s*a<0)return void(r.loc=n.BEHIND);if(Math.sqrt(i*i+s*s)<Math.sqrt(c*c+a*a))return void(r.loc=n.BEYOND);let u;u=0!==i?c/i:a/s,r.loc=n.BETWEEN,r.t=u}function s(t,e){const n=[],r=[];for(let i=1;i<t.length;i++){const s=t[i-1],c=t[i];for(let t=1;t<e.length;t++){const i=e[t-1],a=e[t],l=o(s,c,i,a);null!==l&&void 0===n.find((t=>t.t<=l.t+Number.EPSILON&&t.t>=l.t-Number.EPSILON))&&(n.push(l),r.push(new THREE.Vector2(l.x,l.y)))}}return r}function c(t,e,n){const r=new THREE.Vector2;e.getCenter(r);const o=[];return n.forEach((e=>{if(e.boundingBox.containsPoint(r)){const n=s(t,e.points);n.forEach((t=>{o.push({identifier:e.identifier,isCW:e.isCW,point:t})}))}})),o.sort(((t,e)=>t.point.x-e.point.x)),o}function a(t,e,n,r,o){null!==o&&void 0!==o&&""!==o||(o="nonzero");const i=new THREE.Vector2;t.boundingBox.getCenter(i);const s=[new THREE.Vector2(n,i.y),new THREE.Vector2(r,i.y)],a=c(s,t.boundingBox,e);a.sort(((t,e)=>t.point.x-e.point.x));const l=[],u=[];a.forEach((e=>{e.identifier===t.identifier?l.push(e):u.push(e)}));const y=l[0].point.x,f=[];let h=0;while(h<u.length&&u[h].point.x<y)f.length>0&&f[f.length-1]===u[h].identifier?f.pop():f.push(u[h].identifier),h++;if(f.push(t.identifier),"evenodd"===o){const e=f.length%2===0,n=f[f.length-2];return{identifier:t.identifier,isHole:e,for:n}}if("nonzero"===o){let n=!0,r=null,o=null;for(let t=0;t<f.length;t++){const i=f[t];n?(o=e[i].isCW,n=!1,r=i):o!==e[i].isCW&&(o=e[i].isCW,n=!0)}return{identifier:t.identifier,isHole:n,for:r}}console.warn('fill-rule: "'+o+'" is currently not implemented.')}let l=0,u=e,y=-e,f=t.subPaths.map((t=>{const n=t.getPoints();let r=-e,o=e,i=-e,s=e;for(let e=0;e<n.length;e++){const t=n[e];t.y>r&&(r=t.y),t.y<o&&(o=t.y),t.x>i&&(i=t.x),t.x<s&&(s=t.x)}return y<=i&&(y=i+1),u>=s&&(u=s-1),{curves:t.curves,points:n,isCW:THREE.ShapeUtils.isClockWise(n),identifier:l++,boundingBox:new THREE.Box2(new THREE.Vector2(s,o),new THREE.Vector2(i,r))}}));f=f.filter((t=>t.points.length>1));const h=f.map((e=>a(e,f,u,y,t.userData.style.fillRule))),p=[];return f.forEach((t=>{const e=h[t.identifier];if(!e.isHole){const e=new THREE.Shape;e.curves=t.curves;const n=h.filter((e=>e.isHole&&e.for===t.identifier));n.forEach((t=>{const n=f[t.identifier],r=new THREE.Path;r.curves=n.curves,e.holes.push(r)})),p.push(e)}})),p}static getStrokeStyle(t,e,n,r,o){return t=void 0!==t?t:1,e=void 0!==e?e:"#000",n=void 0!==n?n:"miter",r=void 0!==r?r:"butt",o=void 0!==o?o:4,{strokeColor:e,strokeWidth:t,strokeLineJoin:n,strokeLineCap:r,strokeMiterLimit:o}}static pointsToStroke(e,n,r,o){const i=[],s=[],c=[];if(0===t.pointsToStrokeWithBuffers(e,n,r,o,i,s,c))return null;const a=new THREE.BufferGeometry;return a.setAttribute("position",new THREE.Float32BufferAttribute(i,3)),a.setAttribute("normal",new THREE.Float32BufferAttribute(s,3)),a.setAttribute("uv",new THREE.Float32BufferAttribute(c,2)),a}static pointsToStrokeWithBuffers(t,e,n,r,o,i,s,c){const a=new THREE.Vector2,l=new THREE.Vector2,u=new THREE.Vector2,y=new THREE.Vector2,f=new THREE.Vector2,h=new THREE.Vector2,p=new THREE.Vector2,x=new THREE.Vector2,d=new THREE.Vector2,b=new THREE.Vector2,E=new THREE.Vector2,g=new THREE.Vector2,T=new THREE.Vector2,m=new THREE.Vector2,k=new THREE.Vector2,A=new THREE.Vector2,w=new THREE.Vector2;n=void 0!==n?n:12,r=void 0!==r?r:.001,c=void 0!==c?c:0,t=Y(t);const R=t.length;if(R<2)return 0;const v=t[0].equals(t[R-1]);let H,M,I=t[0];const P=e.strokeWidth/2,S=1/(R-1);let V,C,N,O,L=0,G=!1,B=0,W=3*c,z=2*c;q(t[0],t[1],a).multiplyScalar(P),x.copy(t[0]).sub(a),d.copy(t[0]).add(a),b.copy(x),E.copy(d);for(let Q=1;Q<R;Q++){H=t[Q],M=Q===R-1?v?t[1]:void 0:t[Q+1];const n=a;if(q(I,H,n),u.copy(n).multiplyScalar(P),g.copy(H).sub(u),T.copy(H).add(u),V=L+S,C=!1,void 0!==M){q(H,M,l),u.copy(l).multiplyScalar(P),m.copy(H).sub(u),k.copy(H).add(u),N=!0,u.subVectors(M,I),n.dot(u)<0&&(N=!1),1===Q&&(G=N),u.subVectors(M,H),u.normalize();const t=Math.abs(n.dot(u));if(0!==t){const n=P/t;u.multiplyScalar(-n),y.subVectors(H,I),f.copy(y).setLength(n).add(u),A.copy(f).negate();const r=f.length(),o=y.length();y.divideScalar(o),h.subVectors(M,H);const i=h.length();switch(h.divideScalar(i),y.dot(A)<o&&h.dot(A)<i&&(C=!0),w.copy(f).add(H),A.add(H),O=!1,C?N?(k.copy(A),T.copy(A)):(m.copy(A),g.copy(A)):U(),e.strokeLineJoin){case"bevel":X(N,C,V);break;case"round":j(N,C),N?F(H,g,m,V,0):F(H,k,T,V,1);break;case"miter":case"miter-clip":default:const t=P*e.strokeMiterLimit/r;if(t<1){if("miter-clip"!==e.strokeLineJoin){X(N,C,V);break}j(N,C),N?(h.subVectors(w,g).multiplyScalar(t).add(g),p.subVectors(w,m).multiplyScalar(t).add(m),D(g,V,0),D(h,V,0),D(H,V,.5),D(H,V,.5),D(h,V,0),D(p,V,0),D(H,V,.5),D(p,V,0),D(m,V,0)):(h.subVectors(w,T).multiplyScalar(t).add(T),p.subVectors(w,k).multiplyScalar(t).add(k),D(T,V,1),D(h,V,1),D(H,V,.5),D(H,V,.5),D(h,V,1),D(p,V,1),D(H,V,.5),D(p,V,1),D(k,V,1))}else C?(N?(D(d,L,1),D(x,L,0),D(w,V,0),D(d,L,1),D(w,V,0),D(A,V,1)):(D(d,L,1),D(x,L,0),D(w,V,1),D(x,L,0),D(A,V,0),D(w,V,1)),N?m.copy(w):k.copy(w)):N?(D(g,V,0),D(w,V,0),D(H,V,.5),D(H,V,.5),D(w,V,0),D(m,V,0)):(D(T,V,1),D(w,V,1),D(H,V,.5),D(H,V,.5),D(w,V,1),D(k,V,1)),O=!0;break}}else U()}else U();v||Q!==R-1||J(t[0],b,E,N,!0,L),L=V,I=H,x.copy(m),d.copy(k)}if(v){if(C&&o){let t=w,e=A;G!==N&&(t=A,e=w),N?(O||G)&&(e.toArray(o,0),e.toArray(o,9),O&&t.toArray(o,3)):!O&&G||(e.toArray(o,3),e.toArray(o,9),O&&t.toArray(o,0))}}else J(H,g,T,N,!1,V);return B;function q(t,e,n){return n.subVectors(e,t),n.set(-n.y,n.x).normalize()}function D(t,e,n){o&&(o[W]=t.x,o[W+1]=t.y,o[W+2]=0,i&&(i[W]=0,i[W+1]=0,i[W+2]=1),W+=3,s&&(s[z]=e,s[z+1]=n,z+=2)),B+=3}function F(t,e,r,o,i){a.copy(e).sub(t).normalize(),l.copy(r).sub(t).normalize();let s=Math.PI;const c=a.dot(l);Math.abs(c)<1&&(s=Math.abs(Math.acos(c))),s/=n,u.copy(e);for(let a=0,l=n-1;a<l;a++)y.copy(u).rotateAround(t,s),D(u,o,i),D(y,o,i),D(t,o,.5),u.copy(y);D(y,o,i),D(r,o,i),D(t,o,.5)}function U(){D(d,L,1),D(x,L,0),D(g,V,0),D(d,L,1),D(g,V,1),D(T,V,0)}function X(t,e,n){e?t?(D(d,L,1),D(x,L,0),D(g,V,0),D(d,L,1),D(g,V,0),D(A,V,1),D(g,n,0),D(m,n,0),D(A,n,.5)):(D(d,L,1),D(x,L,0),D(T,V,1),D(x,L,0),D(A,V,0),D(T,V,1),D(T,n,1),D(k,n,0),D(A,n,.5)):t?(D(g,n,0),D(m,n,0),D(H,n,.5)):(D(T,n,1),D(k,n,0),D(H,n,.5))}function j(t,e){e&&(t?(D(d,L,1),D(x,L,0),D(g,V,0),D(d,L,1),D(g,V,0),D(A,V,1),D(g,L,0),D(H,V,.5),D(A,V,1),D(H,V,.5),D(m,L,0),D(A,V,1)):(D(d,L,1),D(x,L,0),D(T,V,1),D(x,L,0),D(A,V,0),D(T,V,1),D(T,L,1),D(A,V,0),D(H,V,.5),D(H,V,.5),D(A,V,0),D(k,L,1)))}function J(t,n,r,i,s,c){switch(e.strokeLineCap){case"round":s?F(t,r,n,c,.5):F(t,n,r,c,.5);break;case"square":if(s)a.subVectors(n,t),l.set(a.y,-a.x),u.addVectors(a,l).add(t),y.subVectors(l,a).add(t),i?(u.toArray(o,3),y.toArray(o,0),y.toArray(o,9)):(u.toArray(o,3),u.toArray(o,9),y.toArray(o,0));else{a.subVectors(r,t),l.set(a.y,-a.x),u.addVectors(a,l).add(t),y.subVectors(l,a).add(t);const e=o.length;i?(u.toArray(o,e-3),y.toArray(o,e-6),y.toArray(o,e-12)):(u.toArray(o,e-6),y.toArray(o,e-3),y.toArray(o,e-12))}break;case"butt":default:break}}function Y(t){let e=!1;for(let o=1,i=t.length-1;o<i;o++)if(t[o].distanceTo(t[o+1])<r){e=!0;break}if(!e)return t;const n=[];n.push(t[0]);for(let o=1,i=t.length-1;o<i;o++)t[o].distanceTo(t[o+1])>=r&&n.push(t[o]);return n.push(t[t.length-1]),n}}}THREE.SVGLoader=t})();