(function(){function t(r=new THREE.Vector3(0,0,0),e=10,p=1,o=0,y=1,n=2,s=3){const a=e/2,E=[new THREE.Vector3(r.x-a,r.y,r.z-a),new THREE.Vector3(r.x-a,r.y,r.z+a),new THREE.Vector3(r.x+a,r.y,r.z+a),new THREE.Vector3(r.x+a,r.y,r.z-a)],l=[E[o],E[y],E[n],E[s]];if(0<=--p){const r=[];return Array.prototype.push.apply(r,t(l[0],a,p,o,s,n,y)),Array.prototype.push.apply(r,t(l[1],a,p,o,y,n,s)),Array.prototype.push.apply(r,t(l[2],a,p,o,y,n,s)),Array.prototype.push.apply(r,t(l[3],a,p,n,y,o,s)),r}return l}function r(t=new THREE.Vector3(0,0,0),e=10,p=1,o=0,y=1,n=2,s=3,a=4,E=5,l=6,c=7){const u=e/2,i=[new THREE.Vector3(t.x-u,t.y+u,t.z-u),new THREE.Vector3(t.x-u,t.y+u,t.z+u),new THREE.Vector3(t.x-u,t.y-u,t.z+u),new THREE.Vector3(t.x-u,t.y-u,t.z-u),new THREE.Vector3(t.x+u,t.y-u,t.z-u),new THREE.Vector3(t.x+u,t.y-u,t.z+u),new THREE.Vector3(t.x+u,t.y+u,t.z+u),new THREE.Vector3(t.x+u,t.y+u,t.z-u)],A=[i[o],i[y],i[n],i[s],i[a],i[E],i[l],i[c]];if(--p>=0){const t=[];return Array.prototype.push.apply(t,r(A[0],u,p,o,s,a,c,l,E,n,y)),Array.prototype.push.apply(t,r(A[1],u,p,o,c,l,y,n,E,a,s)),Array.prototype.push.apply(t,r(A[2],u,p,o,c,l,y,n,E,a,s)),Array.prototype.push.apply(t,r(A[3],u,p,n,s,o,y,l,c,a,E)),Array.prototype.push.apply(t,r(A[4],u,p,n,s,o,y,l,c,a,E)),Array.prototype.push.apply(t,r(A[5],u,p,a,s,n,E,l,y,o,c)),Array.prototype.push.apply(t,r(A[6],u,p,a,s,n,E,l,y,o,c)),Array.prototype.push.apply(t,r(A[7],u,p,l,E,n,y,o,s,a,c)),t}return A}function e(t=1){function r(t){let r,e=t.axiom;for(let p=0,o=t.steps;0<=o?p<o:p>o;0<=o?p++:p--){r="";for(let p=0,o=e.length;p<o;p++){const o=e[p];o in t.rules?r+=t.rules[o]:r+=o}e=r}return r}function e(t){let r=0,e=0,p=0;const o=[0,0,0],y=t.fractal;for(let n=0,s=y.length;n<s;n++){const s=y[n];"+"===s?p+=t.angle:"-"===s?p-=t.angle:"F"===s&&(r+=t.size*Math.cos(p),e+=-t.size*Math.sin(p),o.push(r,e,0))}return o}const p=r({axiom:"A",steps:4,rules:{A:"A+BF++BF-FA--FAFA-BF+",B:"-FA+BFBF++BF+FA--FA-B"}}),o=e({fractal:p,size:t,angle:Math.PI/3});return o}THREE.GeometryUtils={},THREE.GeometryUtils.gosper=e,THREE.GeometryUtils.hilbert2D=t,THREE.GeometryUtils.hilbert3D=r})();