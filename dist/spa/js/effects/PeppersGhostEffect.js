(function(){class e{constructor(e){const t=this;let o,r,s;t.cameraDistance=15,t.reflectFromAbove=!1;const n=new THREE.PerspectiveCamera,i=new THREE.PerspectiveCamera,a=new THREE.PerspectiveCamera,c=new THREE.PerspectiveCamera,p=new THREE.Vector3,l=new THREE.Quaternion,E=new THREE.Vector3;e.autoClear=!1,this.setSize=function(t,n){o=t/2,t<n?(r=t/3,s=t/3):(r=n/3,s=n/3),e.setSize(t,n)},this.render=function(m,d){m.updateMatrixWorld(),null===d.parent&&d.updateMatrixWorld(),d.matrixWorld.decompose(p,l,E),n.position.copy(p),n.quaternion.copy(l),n.translateZ(t.cameraDistance),n.lookAt(m.position),i.position.copy(p),i.quaternion.copy(l),i.translateZ(-t.cameraDistance),i.lookAt(m.position),i.rotation.z+=Math.PI/180*180,a.position.copy(p),a.quaternion.copy(l),a.translateX(-t.cameraDistance),a.lookAt(m.position),a.rotation.x+=Math.PI/180*90,c.position.copy(p),c.quaternion.copy(l),c.translateX(t.cameraDistance),c.lookAt(m.position),c.rotation.x+=Math.PI/180*90,e.clear(),e.setScissorTest(!0),e.setScissor(o-r/2,2*s,r,s),e.setViewport(o-r/2,2*s,r,s),t.reflectFromAbove?e.render(m,i):e.render(m,n),e.setScissor(o-r/2,0,r,s),e.setViewport(o-r/2,0,r,s),t.reflectFromAbove?e.render(m,n):e.render(m,i),e.setScissor(o-r/2-r,s,r,s),e.setViewport(o-r/2-r,s,r,s),t.reflectFromAbove?e.render(m,c):e.render(m,a),e.setScissor(o+r/2,s,r,s),e.setViewport(o+r/2,s,r,s),t.reflectFromAbove?e.render(m,a):e.render(m,c),e.setScissorTest(!1)}}}THREE.PeppersGhostEffect=e})();